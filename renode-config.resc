# Filename: renode-config.resc
$bin?=@nucleo-f446re/ButtonLed/build/ButtonLed.elf

# Create Machine & Load config
mach create
machine LoadPlatformDescription @nucleo_f446re.repl
machine LoadPlatformDescription @add-button.repl

# sysbus Tag <0x40023C00, 0x40023C03> "FLASH_ACR" 0x0

# Create a Reset Macro
macro reset
"""
    sysbus LoadELF $bin
"""

# Run the Reset Macro
runMacro $reset
